[
  {
    "guid": "b3f6b4c7-0a3d-4bd4-a7e3-c8d5a0a1e3f0",
    "name": "Ambilight",
    "description": "Transform your Jellyfin viewing experience with synchronized ambient lighting via WLED",
    "overview": "Automatic ambilight effects for movies and TV shows with real-time WLED control",
    "owner": "Gabriel Prat",
    "category": "General",
    "imageUrl": "https://raw.githubusercontent.com/gabrielprat/jellyfin-ambilight/master/docs/thumb.png",
    "versions": [
      {
        "version": "1.5.4",
        "changelog": "# Release Notes - v1.5.4\n\n## üêõ Critical Hardware Acceleration Fix\n\nThis patch release fixes the hardware acceleration issues that persisted in v1.5.1 and v1.5.3.\n\n### Fixed Hardware Acceleration for Real\n\n**Problem:** Previous attempts to fix hardware acceleration (v1.5.0, v1.5.1, v1.5.3) still failed with errors:\n\n**QSV Error:**\n```\n[hwdownload @ 0x...] Invalid output format yuv420p for hwframe download.\n[hwdownload @ 0x...] Invalid output format nv12 for hwframe download.\n```\n\n**VAAPI Error:**\n```\nImpossible to convert between the formats supported by the filter\n```\n\n**Root Cause:** The issue was with specifying an explicit pixel format after `hwdownload`. Both `nv12` and `yuv420p` are not valid output formats for the `hwdownload` filter in FFmpeg. The filter needs to auto-negotiate the correct format.\n\n**Solution:** Removed the explicit format specification entirely and let FFmpeg automatically negotiate the correct format:\n\n```bash\n# v1.5.3 and earlier (broken):\n-hwaccel qsv -i \"video.mkv\" -vf hwdownload,format=yuv420p,scale=320:180 ...\n\n# v1.5.4 (fixed):\n-hwaccel qsv -i \"video.mkv\" -vf hwdownload,scale=320:180 ...\n```\n\nBy removing the `format=` specification, FFmpeg automatically selects the appropriate intermediate format between the hardware decoder and software scale filter.\n\n**Impact:**\n- ‚úÖ Intel Quick Sync (QSV) now works correctly on N100 and other Intel CPUs\n- ‚úÖ VAAPI fully functional on Intel/AMD GPUs\n- ‚úÖ CUDA acceleration fixed for NVIDIA GPUs\n- ‚úÖ VideoToolbox acceleration fixed for macOS systems\n- ‚úÖ \"Auto\" mode remains unchanged (CPU-only decoding)\n\n**Tested On:**\n- Intel N100 with Linux + QSV ‚úÖ\n- Intel iGPU with VAAPI ‚úÖ\n\n## üìù What Changed from v1.5.3\n\n**Code Changes:**\n- Removed explicit pixel format specification in hardware acceleration filter chain\n- FFmpeg now auto-negotiates the correct format\n\n**No other changes:**\n- Workflow fixes from v1.5.3 remain in place\n- `manifest.json` properly tracked and updated by CI/CD\n- GPLv3 licensing from v1.5.0\n\n## üîÑ Version History Summary\n\n- **v1.5.0**: First attempt - used `format=nv12` (failed)\n- **v1.5.1**: Second attempt - used `format=yuv420p` (failed)\n- **v1.5.3**: Workflow fixes, no code changes to acceleration (still broken)\n- **v1.5.4**: Final fix - removed format specification (working!)\n\n## üìù Migration Notes\n\n### For Users\n\n**HIGHLY RECOMMENDED UPGRADE** if you're using or want to use hardware acceleration:\n\n1. Download v1.5.4 from the releases page\n2. Replace `Jellyfin.Plugin.Ambilight.dll` in your plugins folder\n3. Restart Jellyfin\n4. Enable hardware acceleration in plugin settings (QSV, VAAPI, CUDA, or VideoToolbox)\n5. Re-run any failed extractions\n\n### Expected Behavior\n\nAfter upgrading:\n- Hardware-accelerated extraction should complete successfully\n- No more \"Invalid output format\" or \"Impossible to convert\" errors\n- Extraction speed should be significantly faster with hardware acceleration enabled\n\n## üîó Links\n\n- **Full Changelog**: https://github.com/gabrielprat/jellyfin-ambilight/compare/v1.5.3...v1.5.4\n- **Previous Release**: [v1.5.3](RELEASE_NOTES_v1.5.3.md)\n- **Installation Guide**: [README.md](../README.md#installation)\n\n---\n\n**Third time's the charm! Hardware acceleration finally works! üéâüöÄ**\n",
        "targetAbi": "10.10.0.0",
        "sourceUrl": "https://github.com/gabrielprat/jellyfin-ambilight/releases/download/v1.5.4/jellyfin-plugin-ambilight_1.5.4.zip",
        "checksum": "C8F131814C9AF5CC59C679F424C8A85A",
        "timestamp": "2026-02-19T13:40:45Z"
      }
    ]
  }
]
